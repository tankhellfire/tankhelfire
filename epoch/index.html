<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <script src="../new.js"></script>
  <style>
    *{margin:0;font-family:Consolas,monospace;width:max-content;transform-origin:top left}
  </style>
</head>
<body>
  <h1 id=a>awaiting js</h1>
  <script>
    f=e=>{
      a.innerHTML=(28-(Date.now()/86400000+.5)%28).toFixed(6)+'<br>'+(Math.floor((Date.now()/86400000+.5)/28)-720)
      a.style.transform='scale('+Math.min(Math.ceil(window.innerWidth)/Math.floor(a.offsetWidth),Math.ceil(window.innerHeight)/Math.floor(a.offsetHeight))+')'
      requestAnimationFrame(f)
    }
    f()
    ;(async()=>{while(1){
      document.title=Math.floor((d=(Date.now()+1000)/86400000+.5)/28)-720+':'+(c=(28-d%28).toFixed(5).padStart(8,0)).slice(0,5)+' '+c.slice(5).padEnd(10)
      await new Promise(r=>setTimeout(r,Math.max(864-Date.now()%864,500)))
    }})()
//(28-(Date.now()/86400000+.5)%28)
//Math.floor((Date.now()/86400000+.5)/28)-720
//n*2419200+20159.5*86400

// let lat=-32;let lon=116
// let m=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&minutely_15=temperature_2m,precipitation&timeformat=unixtime`).then(e=>e.json())
// m.minutely_15.time.map((e,i)=>[new Date(e*1000),m.minutely_15.temperature_2m[i],m.minutely_15.precipitation[i]])
  </script>
</body>
</html>
